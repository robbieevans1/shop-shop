{"map":{"version":3,"sources":["static/js/main.147743df.chunk.js"],"names":["this","push","44","module","exports","__webpack_require__","p","76","81","90","91","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","react_router_dom","react_router","createHttpLink","ApolloClient","inMemoryCache","ApolloProvider","context","slicedToArray","useQuery","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","objectWithoutProperties","toConsumableArray","reducers_reducer","state","action","type","Object","products","cartOpen","cart","concat","product","map","purchaseQuantity","newState","filter","length","categories","currentCategory","_excluded","StoreContext","Provider","GlobalState_StoreProvider","_ref","value","initialState","props","_useProductReducer","_useProductReducer2","dispatch","a","createElement","assign","GlobalState_useStoreContext","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","components_ProductItem","item","_useStoreContext","_useStoreContext2","image","name","price","quantity","className","to","alt","src","count","pluralize","onClick","itemInCart","find","cartItem","parseInt","taggedTemplateLiteral","lib","QUERY_PRODUCTS","QUERY_CATEGORIES","QUERY_USER","QUERY_CHECKOUT","spinner","spinner_default","components_ProductList","_useQuery","loading","data","forEach","then","category","key","components_CategoryMenu","categoryData","id","regenerator","regenerator_default","asyncToGenerator","components_CartItem","placeholder","onChange","target","role","aria-label","removeFromCart","classCallCheck","createClass","jwt_decode_lib","lib_default","auth","AuthService","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","removeItem","stripe_esm","useLazyQuery","stripePromise","components_Cart","_useLazyQuery","_useLazyQuery2","getCheckout","toggleCart","res","redirectToCheckout","sessionId","checkout","session","_getCart","mark","_callee","wrap","_context","prev","next","sent","stop","apply","arguments","getCart","sum","toFixed","calculateTotal","loggedIn","productIds","i","variables","pages_Home","pages_Detail","_useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","Fragment","description","disabled","mutations_templateObject","mutations_templateObject2","mutations_templateObject3","components_Jumbotron","children","style","height","clear","paddingTop","textAlign","pages_NoMatch","defineProperty","useMutation","LOGIN","ADD_ORDER","ADD_USER","pages_Login","email","password","formState","setFormState","_useMutation","_useMutation2","login","error","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","onSubmit","htmlFor","pages_Signup","addUser","firstName","lastName","components_Nav","href","logout","pages_OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","pages_Success","addOrder","_saveOrder","_yield$addOrder","setTimeout","saveOrder","httpLink","uri","authLink","_","headers","authorization","client","link","cache","src_App","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","Service-Worker","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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"},"code":"(this[\"webpackJsonpmern-client\"]=this[\"webpackJsonpmern-client\"]||[]).push([[0],{44:function(e,t,a){e.exports=a.p+\"static/media/spinner.ab497855.gif\"},76:function(e,t,a){e.exports=a(91)},81:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),c=a(61),o=a.n(c),l=(a(81),a(4)),i=a(11),u=a(9),s=a(70),m=a(73),d=a(103),p=a(101),E=a(69),f=a(7),b=a(64);function g(e,t,a){return new Promise((function(n,r){var c,o,l,i=window.indexedDB.open(\"shop-shop\",1);i.onupgradeneeded=function(e){var t=i.result;t.createObjectStore(\"products\",{keyPath:\"_id\"}),t.createObjectStore(\"categories\",{keyPath:\"_id\"}),t.createObjectStore(\"cart\",{keyPath:\"_id\"})},i.onerror=function(e){console.log(\"There was an error\")},i.onsuccess=function(r){switch(c=i.result,o=c.transaction(e,\"readwrite\"),l=o.objectStore(e),c.onerror=function(e){console.log(\"error\",e)},t){case\"put\":l.put(a),n(a);break;case\"get\":var u=l.getAll();u.onsuccess=function(){n(u.result)};break;case\"delete\":l.delete(a._id);break;default:console.log(\"No valid method\")}o.oncomplete=function(){c.close()}}}))}var h=a(71),O=a(27),v=function(e,t){switch(t.type){case\"UPDATE_PRODUCTS\":return Object(l.a)(Object(l.a)({},e),{},{products:Object(O.a)(t.products)});case\"ADD_TO_CART\":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(O.a)(e.cart),[t.product])});case\"ADD_MULTIPLE_TO_CART\":return Object(l.a)(Object(l.a)({},e),{},{cart:[].concat(Object(O.a)(e.cart),Object(O.a)(t.products))});case\"UPDATE_CART_QUANTITY\":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case\"REMOVE_FROM_CART\":var a=e.cart.filter((function(e){return e._id!==t._id}));return Object(l.a)(Object(l.a)({},e),{},{cartOpen:a.length>0,cart:a});case\"CLEAR_CART\":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!1,cart:[]});case\"TOGGLE_CART\":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!e.cartOpen});case\"UPDATE_CATEGORIES\":return Object(l.a)(Object(l.a)({},e),{},{categories:Object(O.a)(t.categories)});case\"UPDATE_CURRENT_CATEGORY\":return Object(l.a)(Object(l.a)({},e),{},{currentCategory:t.currentCategory});default:return e}};var y=[\"value\"],j=Object(n.createContext)(),w=j.Provider,_=function(e){e.value;var t,a=Object(h.a)(e,y),c=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:\"\"},Object(n.useReducer)(v,t)),o=Object(f.a)(c,2),l=o[0],i=o[1];return r.a.createElement(w,Object.assign({value:[l,i]},a))},T=function(){return Object(n.useContext)(j)};var k,N,C,x,A,R=function(e){var t=T(),a=Object(f.a)(t,2),n=a[0],c=a[1],o=e.image,u=e.name,s=e._id,m=e.price,d=e.quantity,p=n.cart;return r.a.createElement(\"div\",{className:\"card px-1 py-1\"},r.a.createElement(i.b,{to:\"/products/\".concat(s)},r.a.createElement(\"img\",{alt:u,src:\"/images/\".concat(o)}),r.a.createElement(\"p\",null,u)),r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,d,\" \",function(e,t){return 1===t?e:e+\"s\"}(\"item\",d),\" in stock\"),r.a.createElement(\"span\",null,\"$\",m)),r.a.createElement(\"button\",{onClick:function(){var t=p.find((function(e){return e._id===s}));t?(c({type:\"UPDATE_CART_QUANTITY\",_id:s,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),g(\"cart\",\"put\",Object(l.a)(Object(l.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(c({type:\"ADD_TO_CART\",product:Object(l.a)(Object(l.a)({},e),{},{purchaseQuantity:1})}),g(\"cart\",\"put\",Object(l.a)(Object(l.a)({},e),{},{purchaseQuantity:1})))}},\"Add to cart\"))},D=a(24),S=a(102),P=Object(S.a)(k||(k=Object(D.a)([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),U=(Object(S.a)(N||(N=Object(D.a)([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"]))),Object(S.a)(C||(C=Object(D.a)([\"\\n  {\\n    categories {\\n      _id\\n      name\\n    }\\n  }\\n\"])))),I=Object(S.a)(x||(x=Object(D.a)([\"\\n  {\\n    user {\\n      firstName\\n      lastName\\n      orders {\\n        _id\\n        purchaseDate\\n        products {\\n          _id\\n          name\\n          description\\n          price\\n          quantity\\n          image\\n        }\\n      }\\n    }\\n  }\\n\"]))),Q=Object(S.a)(A||(A=Object(D.a)([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"]))),$=a(44),F=a.n($);var L=function(){var e=T(),t=Object(f.a)(e,2),a=t[0],c=t[1],o=a.currentCategory,l=Object(b.a)(P),i=l.loading,u=l.data;return Object(n.useEffect)((function(){u?(c({type:\"UPDATE_PRODUCTS\",products:u.products}),u.products.forEach((function(e){g(\"products\",\"put\",e)}))):i||g(\"products\",\"get\").then((function(e){c({type:\"UPDATE_PRODUCTS\",products:e})}))}),[u,i,c]),r.a.createElement(\"div\",{className:\"my-2\"},r.a.createElement(\"h2\",null,\"Our Products:\"),a.products.length?r.a.createElement(\"div\",{className:\"flex-row\"},(o?a.products.filter((function(e){return e.category._id===o})):a.products).map((function(e){return r.a.createElement(R,{key:e._id,_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity})}))):r.a.createElement(\"h3\",null,\"You haven't added any products yet!\"),i?r.a.createElement(\"img\",{src:F.a,alt:\"loading\"}):null)};var M=function(){var e=T(),t=Object(f.a)(e,2),a=t[0],c=t[1],o=a.categories,l=Object(b.a)(U),i=l.loading,u=l.data;return Object(n.useEffect)((function(){u?(c({type:\"UPDATE_CATEGORIES\",categories:u.categories}),u.categories.forEach((function(e){g(\"categories\",\"put\",e)}))):i||g(\"categories\",\"get\").then((function(e){c({type:\"UPDATE_CATEGORIES\",categories:e})}))}),[u,i,c]),r.a.createElement(\"div\",null,r.a.createElement(\"h2\",null,\"Choose a Category:\"),o.map((function(e){return r.a.createElement(\"button\",{key:e._id,onClick:function(){var t;t=e._id,c({type:\"UPDATE_CURRENT_CATEGORY\",currentCategory:t})}},e.name)})))},q=a(18),G=a.n(q),Y=a(26),W=function(e){var t=e.item,a=T(),n=Object(f.a)(a,2)[1];return r.a.createElement(\"div\",{className:\"flex-row\"},r.a.createElement(\"div\",null,r.a.createElement(\"img\",{src:\"/images/\".concat(t.image),alt:\"\"})),r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,t.name,\", $\",t.price),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Qty:\"),r.a.createElement(\"input\",{type:\"number\",placeholder:\"1\",value:t.purchaseQuantity,onChange:function(e){var a=e.target.value;\"0\"===a?(n({type:\"REMOVE_FROM_CART\",_id:t._id}),g(\"cart\",\"delete\",Object(l.a)({},t))):(n({type:\"UPDATE_CART_QUANTITY\",_id:t._id,purchaseQuantity:parseInt(a)}),g(\"cart\",\"put\",Object(l.a)(Object(l.a)({},t),{},{purchaseQuantity:parseInt(a)})))}}),r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function(){return function(e){n({type:\"REMOVE_FROM_CART\",_id:e._id}),g(\"cart\",\"delete\",Object(l.a)({},e))}(t)}},\"\\ud83d\\uddd1\\ufe0f\"))))},B=a(66),H=a(67),V=a(53),J=a.n(V),z=new(function(){function e(){Object(B.a)(this,e)}return Object(H.a)(e,[{key:\"getProfile\",value:function(){return J()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return J()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),K=(a(90),a(68)),X=a(99),Z=Object(K.a)(\"pk_test_TYooMQauvdEDq54NiTphI7jx\"),ee=function(){var e=T(),t=Object(f.a)(e,2),a=t[0],c=t[1],o=Object(X.a)(Q),l=Object(f.a)(o,2),i=l[0],u=l[1].data;function s(){c({type:\"TOGGLE_CART\"})}return Object(n.useEffect)((function(){u&&Z.then((function(e){e.redirectToCheckout({sessionId:u.checkout.session})}))}),[u]),Object(n.useEffect)((function(){function e(){return(e=Object(Y.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(\"cart\",\"get\");case 2:t=e.sent,c({type:\"ADD_MULTIPLE_TO_CART\",products:Object(O.a)(t)});case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}a.cart.length||function(){e.apply(this,arguments)}()}),[a.cart.length,c]),a.cartOpen?r.a.createElement(\"div\",{className:\"cart\"},r.a.createElement(\"div\",{className:\"close\",onClick:s},\"[close]\"),r.a.createElement(\"h2\",null,\"Shopping Cart\"),a.cart.length?r.a.createElement(\"div\",null,a.cart.map((function(e){return r.a.createElement(W,{key:e._id,item:e})})),r.a.createElement(\"div\",{className:\"flex-row space-between\"},r.a.createElement(\"strong\",null,\"Total: $\",function(){var e=0;return a.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()),z.loggedIn()?r.a.createElement(\"button\",{onClick:function(){var e=[];a.cart.forEach((function(t){for(var a=0;a<t.purchaseQuantity;a++)e.push(t._id)})),i({variables:{products:e}})}},\"Checkout\"):r.a.createElement(\"span\",null,\"(log in to check out)\"))):r.a.createElement(\"h3\",null,r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"shocked\"},\"\\ud83d\\ude31\"),\"You haven't added anything to your cart yet!\")):r.a.createElement(\"div\",{className:\"cart-closed\",onClick:s},r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"trash\"},\"\\ud83d\\uded2\"))},te=function(){return r.a.createElement(\"div\",{className:\"container\"},r.a.createElement(M,null),r.a.createElement(L,null),r.a.createElement(ee,null))};var ae=function(){var e=T(),t=Object(f.a)(e,2),a=t[0],c=t[1],o=Object(u.f)().id,s=Object(n.useState)({}),m=Object(f.a)(s,2),d=m[0],p=m[1],E=Object(b.a)(P),h=E.loading,O=E.data,v=a.products,y=a.cart;return Object(n.useEffect)((function(){v.length?p(v.find((function(e){return e._id===o}))):O?(c({type:\"UPDATE_PRODUCTS\",products:O.products}),O.products.forEach((function(e){g(\"products\",\"put\",e)}))):h||g(\"products\",\"get\").then((function(e){c({type:\"UPDATE_PRODUCTS\",products:e})}))}),[v,O,h,c,o]),r.a.createElement(r.a.Fragment,null,d&&y?r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/\"},\"\\u2190 Back to Products\"),r.a.createElement(\"h2\",null,d.name),r.a.createElement(\"p\",null,d.description),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"Price:\"),\"$\",d.price,\" \",r.a.createElement(\"button\",{onClick:function(){var e=y.find((function(e){return e._id===o}));e?(c({type:\"UPDATE_CART_QUANTITY\",_id:o,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),g(\"cart\",\"put\",Object(l.a)(Object(l.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(c({type:\"ADD_TO_CART\",product:Object(l.a)(Object(l.a)({},d),{},{purchaseQuantity:1})}),g(\"cart\",\"put\",Object(l.a)(Object(l.a)({},d),{},{purchaseQuantity:1})))}},\"Add to Cart\"),r.a.createElement(\"button\",{disabled:!y.find((function(e){return e._id===d._id})),onClick:function(){c({type:\"REMOVE_FROM_CART\",_id:d._id}),g(\"cart\",\"delete\",Object(l.a)({},d))}},\"Remove from Cart\")),r.a.createElement(\"img\",{src:\"/images/\".concat(d.image),alt:d.name})):null,h?r.a.createElement(\"img\",{src:F.a,alt:\"loading\"}):null,r.a.createElement(ee,null))};var ne,re,ce,oe=function(e){var t=e.children;return r.a.createElement(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"}},t)},le=function(){return r.a.createElement(\"div\",null,r.a.createElement(oe,null,r.a.createElement(\"h1\",null,\"404 Page Not Found\"),r.a.createElement(\"h1\",null,r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\"},\"\\ud83d\\ude44\"))))},ie=a(32),ue=a(100),se=Object(S.a)(ne||(ne=Object(D.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),me=Object(S.a)(re||(re=Object(D.a)([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        category {\\n          name\\n        }\\n      }\\n    }\\n  }\\n\"]))),de=Object(S.a)(ce||(ce=Object(D.a)([\"\\n  mutation addUser(\\n    $firstName: String!\\n    $lastName: String!\\n    $email: String!\\n    $password: String!\\n  ) {\\n    addUser(\\n      firstName: $firstName\\n      lastName: $lastName\\n      email: $email\\n      password: $password\\n    ) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var pe=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),a=Object(f.a)(t,2),c=a[0],o=a[1],u=Object(ue.a)(se),s=Object(f.a)(u,2),m=s[0],d=s[1].error,p=function(){var e=Object(Y.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,m({variables:{email:c.email,password:c.password}});case 4:a=e.sent,n=a.data.login.token,z.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=e.target,a=t.name,n=t.value;o(Object(l.a)(Object(l.a)({},c),{},Object(ie.a)({},a,n)))};return r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/signup\"},\"\\u2190 Go to Signup\"),r.a.createElement(\"h2\",null,\"Login\"),r.a.createElement(\"form\",{onSubmit:p},r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email address:\"),r.a.createElement(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:E})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"pwd\"},\"Password:\"),r.a.createElement(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:E})),d?r.a.createElement(\"div\",null,r.a.createElement(\"p\",{className:\"error-text\"},\"The provided credentials are incorrect\")):null,r.a.createElement(\"div\",{className:\"flex-row flex-end\"},r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))};var Ee=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),a=Object(f.a)(t,2),c=a[0],o=a[1],u=Object(ue.a)(de),s=Object(f.a)(u,1)[0],m=function(){var e=Object(Y.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s({variables:{email:c.email,password:c.password,firstName:c.firstName,lastName:c.lastName}});case 3:a=e.sent,n=a.data.addUser.token,z.login(n);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,a=t.name,n=t.value;o(Object(l.a)(Object(l.a)({},c),{},Object(ie.a)({},a,n)))};return r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/login\"},\"\\u2190 Go to Login\"),r.a.createElement(\"h2\",null,\"Signup\"),r.a.createElement(\"form\",{onSubmit:m},r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"firstName\"},\"First Name:\"),r.a.createElement(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:d})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"lastName\"},\"Last Name:\"),r.a.createElement(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:d})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email:\"),r.a.createElement(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:d})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"pwd\"},\"Password:\"),r.a.createElement(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:d})),r.a.createElement(\"div\",{className:\"flex-row flex-end\"},r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))};var fe=function(){return r.a.createElement(\"header\",{className:\"flex-row px-1\"},r.a.createElement(\"h1\",null,r.a.createElement(i.b,{to:\"/\"},r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\"},\"\\ud83d\\udecd\\ufe0f\"),\"-Shop-Shop\")),r.a.createElement(\"nav\",null,z.loggedIn()?r.a.createElement(\"ul\",{className:\"flex-row\"},r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/orderHistory\"},\"Order History\")),r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(\"a\",{href:\"/\",onClick:function(){return z.logout()}},\"Logout\"))):r.a.createElement(\"ul\",{className:\"flex-row\"},r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/signup\"},\"Signup\")),r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/login\"},\"Login\")))))};var be=function(){var e,t=Object(b.a)(I).data;return t&&(e=t.user),r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/\"},\"\\u2190 Back to Products\"),e?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h2\",null,\"Order History for \",e.firstName,\" \",e.lastName),e.orders.map((function(e){return r.a.createElement(\"div\",{key:e._id,className:\"my-2\"},r.a.createElement(\"h3\",null,new Date(parseInt(e.purchaseDate)).toLocaleDateString()),r.a.createElement(\"div\",{className:\"flex-row\"},e.products.map((function(e,t){var a=e._id,n=e.image,c=e.name,o=e.price;return r.a.createElement(\"div\",{key:t,className:\"card px-1 py-1\"},r.a.createElement(i.b,{to:\"/products/\".concat(a)},r.a.createElement(\"img\",{alt:c,src:\"/images/\".concat(n)}),r.a.createElement(\"p\",null,c)),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"$\",o)))}))))}))):null))};var ge=function(){var e=Object(ue.a)(me),t=Object(f.a)(e,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(Y.a)(G.a.mark((function e(){var a,n,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(\"cart\",\"get\");case 2:if(a=e.sent,!(n=a.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:r=e.sent,c=r.data,c.addOrder.products.forEach((function(e){g(\"cart\",\"delete\",e)}));case 11:setTimeout((function(){window.location.assign(\"/\")}),3e3);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement(\"div\",null,r.a.createElement(oe,null,r.a.createElement(\"h1\",null,\"Success!\"),r.a.createElement(\"h2\",null,\"Thank you for your purchase!\"),r.a.createElement(\"h2\",null,\"You will now be redirected to the home page\")))},he=Object(s.a)({uri:\"/graphql\"}),Oe=Object(E.a)((function(e,t){var a=t.headers,n=localStorage.getItem(\"id_token\");return{headers:Object(l.a)(Object(l.a)({},a),{},{authorization:n?\"Bearer \".concat(n):\"\"})}})),ve=new m.a({link:Oe.concat(he),cache:new d.a});var ye=function(){return r.a.createElement(p.a,{client:ve},r.a.createElement(i.a,null,r.a.createElement(\"div\",null,r.a.createElement(_,null,r.a.createElement(fe,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:\"/\",component:te}),r.a.createElement(u.a,{exact:!0,path:\"/login\",component:pe}),r.a.createElement(u.a,{exact:!0,path:\"/signup\",component:Ee}),r.a.createElement(u.a,{exact:!0,path:\"/success\",component:ge}),r.a.createElement(u.a,{exact:!0,path:\"/orderHistory\",component:be}),r.a.createElement(u.a,{exact:!0,path:\"/products/:id\",component:ae}),r.a.createElement(u.a,{component:le}))))))},je=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function we(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){\"installed\"===a.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ye,null)),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");je?(!function(e,t){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(a){var n=a.headers.get(\"content-type\");404===a.status||null!=n&&-1===n.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):we(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):we(t,e)}))}}()}},[[76,1,2]]]);","extractedComments":[]}